zuul:
  sensitive-headers: null
  ribbonIsolationStrategy:  THREAD
  routes:
    user-service:
      path: /user-service/**
      service-id: bootu-user
      # semaphore:
      #   maxSemaphores:  1000
    greeting-service:
      path: /greeting-service/**
      service-id: bootu-greeting
      # semaphore:
      #   maxSemaphores:  1000
  ignored-patterns: /**/feign/**
  ## Container keep restarting in aws for below config
  # host:
  #   max-total-connections: 5000
  #   maxPerRouteConnections: 1000
  host:
    max-per-route-connections: 50
    max-total-connections: 500
  ribbon:
    ConnectTimeout:  2000
    ReadTimeout:  2000
    okhttp:
      enabled:  true
  threadPool:
    useSeparateThreadPools: true
    threadPoolKeyPrefix: zuulgw
# hystrix:
#   threadpool:
#     default:
#       coreSize: 100
#       maximumSize: 5000
#       allowMaximumSizeToDivergeFromCoreSize: true
#       maxQueueSize: -1
#   command:
#     default:
#       execution:
#         isolation:
#           thread:
#             timeoutInMilliseconds: 8000
# ribbon:
#   ConnectTimeout:  2000
#   ReadTimeout:  2000
#   okhttp:
#     enabled: true
# server: ## Container keep restarting in aws for below config
#   tomcat:
#     max-threads: 1000
#     max-connections: 2000
#     min-spare-threads:  100
      # accept-count: 1000
server:
  tomcat:
    max-threads: 16
    min-spare-threads: 8
  undertow:
    io-threads: 4
    worker-threads: 24
    buffer-size: 512
hystrix:
  command:
    default:
      execution:
        isolation:
          thread:
            timeoutInMilliseconds: 3000

